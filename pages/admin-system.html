    <!-- PAGE: Backend - Achievement Management (Super Admin) -->
    <section class="page" id="page-admin-achievements" data-min-role="super_admin">
      <div class="page-header">
        <button class="back-btn" onclick="App.goBack()">←</button>
        <h2>成就 / 徽章管理</h2>
      </div>
      <div id="admin-ach-list"></div>
      <button class="primary-btn full-width" style="margin-top:.5rem" onclick="App.showAchForm()">＋ 新增成就</button>

      <!-- Achievement Create/Edit Form (條件選單) -->
      <div class="form-card" id="ach-form-card" style="display:none;margin-top:.5rem">
        <div class="role-editor-header">
          <span id="ach-form-title">新增成就</span>
          <button class="text-btn" onclick="App.hideAchForm()">取消</button>
        </div>
        <div class="form-row"><label>成就名稱 <span class="required">*必填</span></label><input type="text" id="ach-input-name" placeholder="例：百場達人"></div>
        <div class="form-row">
          <label>類別（等級）</label>
          <select id="ach-input-category">
            <option value="bronze">銅</option>
            <option value="silver">銀</option>
            <option value="gold">金</option>
          </select>
        </div>

        <!-- 條件設定區塊 -->
        <div class="ach-cond-section">
          <div class="ach-cond-section-title">條件設定</div>
          <div class="form-row">
            <label>時間範圍</label>
            <select id="ach-cond-timerange" onchange="App._updateAchConditionUI();App._updateConditionPreview()"></select>
          </div>
          <div class="form-row" id="ach-cond-streakdays-row" style="display:none">
            <label>連續天數</label>
            <input type="number" id="ach-cond-streakdays" value="7" min="1" oninput="App._updateConditionPreview()">
          </div>
          <div class="form-row">
            <label>動作類型</label>
            <select id="ach-cond-action" onchange="App._updateAchConditionUI();App._updateConditionPreview()"></select>
          </div>
          <div class="form-row" id="ach-cond-filter-row" style="display:none">
            <label>活動篩選</label>
            <select id="ach-cond-filter" onchange="App._updateConditionPreview()"></select>
          </div>
          <div class="form-row">
            <label>目標數值</label>
            <input type="number" id="ach-cond-threshold" value="1" min="0" oninput="App._updateConditionPreview()">
          </div>
          <div class="ach-cond-preview-wrap">
            <span style="font-size:.72rem;color:var(--text-muted)">條件預覽：</span>
            <span id="ach-cond-preview" style="font-size:.78rem;font-weight:600;color:var(--accent)"></span>
          </div>
        </div>

        <!-- 徽章圖片 -->
        <div class="ach-cond-section">
          <div class="ach-cond-section-title">徽章圖片</div>
          <div style="display:flex;align-items:center;gap:.6rem">
            <div id="ach-badge-preview" class="ach-badge-upload-box" onclick="document.getElementById('ach-badge-image').click()">
              <span style="color:var(--text-muted);font-size:.7rem">點擊上傳</span>
            </div>
            <input type="file" id="ach-badge-image" accept="image/jpeg,image/png" style="display:none">
            <span style="font-size:.7rem;color:var(--text-muted)">50×50，JPG/PNG，建議正方形</span>
          </div>
        </div>

        <div style="font-size:.72rem;color:var(--text-muted);margin-bottom:.5rem">建立成就時會自動建立關聯徽章；修改目標後，未達新目標的用戶將變回未完成</div>
        <button class="primary-btn full-width" onclick="App.saveAchievement()">儲存</button>
      </div>
    </section>

    <!-- PAGE: Backend - Site Theme Management (Super Admin) -->
    <section class="page" id="page-admin-themes" data-min-role="super_admin">
      <div class="page-header">
        <button class="back-btn" onclick="App.goBack()">←</button>
        <h2>佈景主題</h2>
      </div>
      <div style="font-size:.78rem;color:var(--text-muted);padding:0 .3rem .1rem">替換網站元素背景圖片，打造節慶氛圍。</div>
      <div style="font-size:.72rem;color:var(--text-muted);padding:0 .3rem .6rem">上傳圖片後可獨立上架 / 下架，下架即恢復預設風格。</div>
      <div style="font-size:.72rem;color:var(--text-muted);padding:0 .3rem .6rem;display:flex;gap:.6rem;flex-wrap:wrap">
        <span>↑ 頂部 = 上方橫條</span>
        <span>↓ 底部 = 下方選單列</span>
        <span>▣ 全頁 = 網站背景</span>
      </div>
      <div class="card-list" id="theme-manage-list" style="display:flex;flex-direction:column;gap:.6rem"></div>

      <!-- Theme Edit Modal -->
      <div class="modal-overlay" id="theme-form-overlay" onclick="if(event.target===this)App.hideThemeForm()">
        <div class="modal" style="max-height:85vh">
          <div class="modal-header">
            <h3 id="theme-form-title">設定佈景圖片</h3>
            <button class="modal-close" onclick="App.hideThemeForm()">✕</button>
          </div>
          <div class="modal-body" style="display:flex;flex-direction:column;gap:.65rem">
            <div id="theme-spec-hint" style="font-size:.78rem;color:var(--text-secondary);font-weight:500"></div>
            <div class="form-row">
              <label>選擇圖片</label>
              <div id="theme-preview" class="upload-preview" style="width:100%;height:140px;border:2px dashed var(--border);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;overflow:hidden;cursor:pointer;background:var(--bg-main)" onclick="document.getElementById('theme-image').click()">
                <span style="color:var(--text-muted);font-size:.8rem">點擊上傳圖片</span>
              </div>
              <input type="file" id="theme-image" accept="image/jpeg,image/png" style="display:none">
            </div>
            <button class="primary-btn full-width" onclick="App.saveThemeItem()">儲存並上架</button>
          </div>
        </div>
      </div>
    </section>

    <!-- PAGE: Backend - Announcement Management (Super Admin) -->
    <section class="page" id="page-admin-announcements" data-min-role="super_admin">
      <div class="page-header">
        <button class="back-btn" onclick="App.goBack()">←</button>
        <h2>系統公告管理</h2>
        <button class="primary-btn" style="margin-left:auto;font-size:.75rem;padding:.35rem .7rem" onclick="App.showAnnouncementForm()">＋ 新增公告</button>
      </div>
      <div id="ann-manage-count" style="font-size:.75rem;color:var(--text-muted);padding:.2rem .3rem .5rem"></div>
      <div class="card-list" id="announcement-manage-list"></div>

      <!-- Announcement Form Modal -->
      <div class="modal-overlay" id="announcement-form-overlay" onclick="if(event.target===this)App.hideAnnouncementForm()">
        <div class="modal" style="max-height:85vh">
          <div class="modal-header">
            <h3 id="announcement-form-title">新增公告</h3>
            <button class="modal-close" onclick="App.hideAnnouncementForm()">✕</button>
          </div>
          <div class="modal-body" style="display:flex;flex-direction:column;gap:.65rem">
            <div class="form-row"><label>公告標題（12 字內） <span class="required">*必填</span></label><input type="text" id="ann-input-title" maxlength="12" placeholder="例：系統維護通知"></div>
            <div class="form-row"><label>公告內容（50 字內） <span class="required">*必填</span></label><textarea id="ann-input-content" rows="3" maxlength="50" placeholder="公告內容..." oninput="document.getElementById('ann-content-count').textContent=this.value.length+'/50'"></textarea><span id="ann-content-count" style="font-size:.68rem;color:var(--text-muted);text-align:right">0/50</span></div>
            <div class="form-row"><label>發布方式</label><select id="ann-input-publish-type" onchange="App.toggleAnnSchedule()"><option value="now">立即發布</option><option value="scheduled">預約發布</option></select></div>
            <div class="form-row" id="ann-schedule-row" style="display:none"><label>預約發布時間</label><input type="datetime-local" id="ann-input-schedule"></div>
            <div class="form-row"><label>結束時間（選填）</label><input type="datetime-local" id="ann-input-unpublish"></div>
            <button class="primary-btn full-width" onclick="App.saveAnnouncementItem()">儲存</button>
          </div>
        </div>
      </div>
    </section>

    <!-- PAGE: Backend - Custom Roles (Super Admin) -->
    <section class="page" id="page-admin-roles" data-min-role="super_admin">
      <div class="page-header">
        <button class="back-btn" onclick="App.goBack()">←</button>
        <h2>自訂層級管理</h2>
      </div>
      <div class="role-hierarchy-card">
        <div class="role-hierarchy-title">目前層級架構 <span style="font-size:.68rem;font-weight:400;color:var(--text-muted)">（點擊查看權限）</span></div>
        <div class="role-hierarchy-list" id="role-hierarchy-list"></div>
      </div>

      <!-- 權限面板（點擊層級時顯示） -->
      <div class="role-perm-panel" id="role-perm-panel" style="display:none">
        <div class="role-perm-panel-header">
          <span id="role-perm-panel-title">權限設定</span>
        </div>
        <div class="permissions-list" id="permissions-list"></div>
      </div>

      <!-- 新增自訂層級表單 -->
      <div class="role-editor-card" id="role-editor-card" style="display:none">
        <div class="role-editor-header">
          <span id="role-editor-title">新增自訂層級</span>
          <button class="text-btn" onclick="App.hideRoleEditor()">取消</button>
        </div>
        <div class="form-row"><label>層級名稱 <span class="required">*必填</span></label><input type="text" id="role-name-input" placeholder="例：裁判、助理教練"></div>
        <div class="form-row"><label>層級顏色</label><input type="color" id="role-color-input" value="#6366f1" style="width:100%;height:36px;border:none;cursor:pointer"></div>
        <div style="font-size:.72rem;color:var(--text-muted);margin-bottom:.5rem">新增後可於層級架構中點擊該層級設定權限</div>
        <button class="primary-btn full-width" onclick="App.saveCustomRole()">儲存層級</button>
      </div>
      <button class="primary-btn full-width" style="margin-top:.5rem" onclick="App.openRoleEditor()">＋ 新增自訂層級</button>

      <!-- 刪除確認彈窗 -->
      <div class="modal-overlay" id="role-delete-overlay" style="display:none" onclick="if(event.target===this)this.style.display='none'">
        <div class="modal" style="max-width:320px">
          <div class="modal-header">
            <h3>確認刪除層級</h3>
            <button class="modal-close" onclick="document.getElementById('role-delete-overlay').style.display='none'">✕</button>
          </div>
          <div class="modal-body">
            <p id="role-delete-msg" style="font-size:.85rem;line-height:1.6"></p>
          </div>
          <div class="modal-actions">
            <button class="outline-btn" onclick="document.getElementById('role-delete-overlay').style.display='none'">取消</button>
            <button class="primary-btn" style="background:var(--danger)" id="role-delete-confirm-btn">確認刪除</button>
          </div>
        </div>
      </div>
    </section>

    <!-- PAGE: Backend - Inactive Data (Super Admin) -->
    <section class="page" id="page-admin-inactive" data-min-role="super_admin">
      <div class="page-header">
        <button class="back-btn" onclick="App.goBack()">←</button>
        <h2>無效資料查詢</h2>
      </div>
      <div class="tab-bar">
        <button class="tab active">已解散球隊</button>
        <button class="tab">已結束賽事</button>
      </div>
      <div class="card-list" id="inactive-list"></div>
    </section>

    <!-- PAGE: Backend - Operation Logs (Super Admin) -->
    <section class="page" id="page-admin-logs" data-min-role="super_admin">
      <div class="page-header">
        <button class="back-btn" onclick="App.goBack()">←</button>
        <h2>操作日誌</h2>
      </div>
      <div class="admin-search">
        <input type="text" id="oplog-search" placeholder="搜尋操作者 / 目標..." oninput="App.filterOperationLogs()">
        <div class="admin-filters">
          <select id="oplog-type-filter" onchange="App.filterOperationLogs()"><option value="">全部類型</option><option value="exp">手動EXP</option><option value="role">晉升用戶</option><option value="event">活動管理</option></select>
        </div>
      </div>
      <div class="log-list" id="operation-log-list"></div>
    </section>
