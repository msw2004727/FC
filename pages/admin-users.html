    <!-- PAGE: Backend - User Management (Admin+) -->
    <section class="page" id="page-admin-users" data-min-role="admin">
      <div class="page-header">
        <button class="back-btn" onclick="App.goBack()">←</button>
        <h2>用戶管理</h2>
      </div>
      <div class="admin-search">
        <input type="text" id="admin-user-search" placeholder="搜尋 UID 或暱稱..." oninput="App.filterAdminUsers()">
        <div class="admin-filters">
          <select id="admin-user-role-filter" onchange="App.filterAdminUsers()"><option value="">全部身份</option><option value="user">一般用戶</option><option value="coach">教練</option><option value="captain">領隊</option><option value="venue_owner">場主</option></select>

        </div>
      </div>
      <div class="admin-card-list" id="admin-user-list"></div>
    </section>

    <!-- PAGE: Backend - EXP Management (Super Admin) -->
    <section class="page" id="page-admin-exp" data-min-role="super_admin">
      <div class="page-header">
        <button class="back-btn" onclick="App.goBack()">←</button>
        <h2>手動 EXP 管理</h2>
      </div>

      <!-- 頁簽列 -->
      <div class="tab-bar" id="exp-tab-bar">
        <button class="tab active" onclick="App.switchExpTab('individual')">個別調整</button>
        <button class="tab" onclick="App.switchExpTab('batch')">批次調整</button>
        <button class="tab" onclick="App.switchExpTab('team')">球隊調整</button>
      </div>

      <!-- 個別調整 -->
      <div class="exp-tab-panel" id="exp-panel-individual">
        <div class="admin-search" style="position:relative">
          <input type="text" placeholder="輸入暱稱模糊搜尋..." id="exp-search" oninput="App.expFuzzySearch()">
          <div class="delegate-dropdown" id="exp-search-dropdown" style="display:none"></div>
        </div>
        <div class="exp-target-card" id="exp-target-card" style="display:none">
          <div class="exp-target-info">
            <div class="profile-avatar small">?</div>
            <div>
              <div class="exp-target-name"></div>
              <div class="exp-target-detail"></div>
            </div>
          </div>
          <div class="exp-form">
            <div class="form-row">
              <label>EXP 調整</label>
              <input type="number" id="exp-amount" placeholder="+500 或 -100">
            </div>
            <div class="form-row">
              <label>備註原因 <span class="required">*必填</span></label>
              <input type="text" id="exp-reason" placeholder="例：活動獎勵">
            </div>
            <button class="primary-btn full-width" onclick="App.handleExpSubmit()">確認送出</button>
          </div>
        </div>
      </div>

      <!-- 批次調整 -->
      <div class="exp-tab-panel" id="exp-panel-batch" style="display:none">
        <div class="admin-search" style="position:relative">
          <input type="text" placeholder="搜尋用戶加入批次..." id="exp-batch-search" oninput="App.expBatchSearch()">
          <div class="delegate-dropdown" id="exp-batch-dropdown" style="display:none"></div>
        </div>
        <div id="exp-batch-tags" class="reward-tags" style="margin-bottom:.65rem"></div>
        <div class="exp-form">
          <div class="form-row">
            <label>EXP 調整（套用到所有已選用戶）</label>
            <input type="number" id="exp-batch-amount" placeholder="+500 或 -100">
          </div>
          <div class="form-row">
            <label>備註原因 <span class="required">*必填</span></label>
            <input type="text" id="exp-batch-reason" placeholder="例：活動獎勵">
          </div>
          <button class="primary-btn full-width" onclick="App.handleBatchExpSubmit()">批次送出</button>
        </div>
      </div>

      <!-- 球隊調整 -->
      <div class="exp-tab-panel" id="exp-panel-team" style="display:none">
        <div class="form-row" style="padding:0 .2rem">
          <label>選擇球隊</label>
          <select id="exp-team-select" onchange="App.expTeamSelect()">
            <option value="">— 請選擇球隊 —</option>
          </select>
        </div>
        <div id="exp-team-members" class="reward-tags" style="margin:.5rem .2rem .65rem"></div>
        <div class="exp-form" style="padding:0 .2rem">
          <div class="form-row">
            <label>EXP 調整（套用到全隊成員）</label>
            <input type="number" id="exp-team-amount" placeholder="+500 或 -100">
          </div>
          <div class="form-row">
            <label>備註原因 <span class="required">*必填</span></label>
            <input type="text" id="exp-team-reason" placeholder="例：球隊獎勵">
          </div>
          <button class="primary-btn full-width" onclick="App.handleTeamExpSubmit()">全隊送出</button>
        </div>
      </div>

      <!-- 操作紀錄 -->
      <div class="info-card" style="margin-top:.75rem">
        <div class="info-title">最近操作紀錄</div>
        <div class="admin-search" style="padding:.4rem 0">
          <input type="text" placeholder="搜尋暱稱..." id="exp-log-search" oninput="App.filterExpLogs()">
          <input type="date" id="exp-log-date" onchange="App.filterExpLogs()" style="max-width:140px">
        </div>
        <div class="log-list" id="exp-log-list"></div>
      </div>
    </section>

  <!-- User Edit Modal -->
  <div class="modal" id="user-edit-modal">
    <div class="modal-header">
      <h3 id="user-edit-modal-title">編輯用戶</h3>
      <button class="modal-close" onclick="App.closeUserEditModal()">✕</button>
    </div>
    <div class="modal-body">
      <div class="ce-form">
        <div class="ce-row">
          <label>權限</label>
          <select id="ue-role">
            <option value="user">一般用戶</option>
            <option value="coach">教練</option>
            <option value="captain">領隊</option>
            <option value="venue_owner">場主</option>
          </select>
        </div>
        <div class="ce-row">
          <label>地區</label>
          <select id="ue-region">
            <option value="台北">台北</option><option value="新北">新北</option><option value="桃園">桃園</option>
            <option value="台中">台中</option><option value="台南">台南</option><option value="高雄">高雄</option><option value="其他">其他</option>
          </select>
        </div>
        <div class="ce-row">
          <label>性別</label>
          <select id="ue-gender">
            <option value="男">男</option><option value="女">女</option><option value="其他">其他</option>
          </select>
        </div>
        <div class="ce-row">
          <label>生日</label>
          <input type="date" id="ue-birthday">
        </div>
        <div class="ce-row">
          <label>運動類別</label>
          <input type="text" id="ue-sports" placeholder="例：足球、籃球">
        </div>
        <div class="ce-row">
          <label>聯繫電話</label>
          <input type="text" id="ue-phone" placeholder="例：0912-345-678">
        </div>
      </div>
    </div>
    <div class="modal-actions">
      <button class="outline-btn" onclick="App.closeUserEditModal()">取消</button>
      <button class="primary-btn" onclick="App.saveUserEdit()">儲存</button>
    </div>
  </div>
